<?xml version="1.0" encoding="UTF-8" ?>
<data type="rule">
  <settings>
    <players>1</players>
    <layout>data/knight/knight_layout.xml</layout>
  </settings>
  <deck>
    <deck_name>pack52</deck_name>
    <shuffle>y</shuffle>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>DS</name>
      <value>0</value>
      <color>black</color>
      <suit>c</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>D0</name>
      <value>0</value>
      <color>red</color>
      <suit>d</suit>
      <fixed>y</fixed>
    </card>
    <card>
      <name>knight</name>
      <value>1</value>
      <color>green</color>
      <suit>k</suit>
    </card>
  </deck>
  <cell_groups>
    <group category="all">
      <cell name="A8"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="B8"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card><card>knight,U</card></init_cards></cell>
      <cell name="C8"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="D8"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="E8"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="F8"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="G8"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="H8"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="A7"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="B7"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="C7"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="D7"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="E7"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="F7"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="G7"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="H7"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>

      <cell name="A6"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="B6"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="C6"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="D6"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="E6"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="F6"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="G6"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="H6"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="A5"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="B5"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="C5"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="D5"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="E5"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="F5"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="G5"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="H5"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>

      <cell name="A4"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="B4"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="C4"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="D4"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="E4"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="F4"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="G4"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="H4"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="A3"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="B3"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="C3"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="D3"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="E3"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="F3"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="G3"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="H3"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>

      <cell name="A2"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="B2"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="C2"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="D2"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="E2"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="F2"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="G2"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="H2"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="A1"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="B1"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="C1"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="D1"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="E1"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="F1"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>
      <cell name="G1"><fan>none</fan><rotation>0</rotation><init_cards><card>DS,U</card></init_cards></cell>
      <cell name="H1"><fan>none</fan><rotation>0</rotation><init_cards><card>D0,U</card></init_cards></cell>

    </group>
  </cell_groups>
  <phases>
    <phase name="play">
      <phase_type>manual</phase_type>
      <valid_donors>
        <category>all</category>
      </valid_donors>
      <rules>
        <rule category="all">
          <validation>
            <receiver>
              <value>*</value>
              <color>*</color>
              <suit>*</suit>
              <num_cards>*</num_cards>
              <is_faceup>*</is_faceup>
              <name>*</name>
            </receiver>
            <mover>
              <color>*</color>
              <suit>*</suit>
              <num_cards>*</num_cards>
              <is_faceup>*</is_faceup>
              <name>*</name>
            </mover>
          </validation>
          <action>
            <receiver_dest>
            </receiver_dest>
            <mover_dest>
              <destination>r</destination>
              <num_cards>1</num_cards>
              <shuffle>n</shuffle>
            </mover_dest>
            <donor_dest>
              <destination>d</destination>
              <num_cards>none</num_cards>
              <shuffle>n</shuffle>
              <rotation>0</rotation>
              <offset>none</offset>
              <flip_up>n</flip_up>
            </donor_dest>
            <next_phase phase="check">1</next_phase>
          </action>
        </rule>
        <rule category="all">
          <validation>
            <receiver>
              <value>*</value>
              <color>green</color>
              <suit>*</suit>
              <num_cards>*</num_cards>
              <is_faceup>*</is_faceup>
              <name>*</name>
            </receiver>
            <mover>
              <color>*</color>
              <suit>*</suit>
              <num_cards>*</num_cards>
              <is_faceup>*</is_faceup>
              <name>*</name>
            </mover>
            <donor>
              <value>*</value>
              <color>*</color>
              <suit>*</suit>
              <num_cards>*</num_cards>
              <is_faceup>*</is_faceup>
              <name>*</name>
            </donor>
          </validation>
          <action>
            <receiver_dest>
              <destination>r</destination>
              <num_cards>none</num_cards>
              <shuffle>n</shuffle>
              <rotation>0</rotation>
              <offset>none</offset>
            </receiver_dest>
            <mover_dest>
              <destination>r</destination>
              <num_cards>1</num_cards>
              <shuffle>n</shuffle>
              <rotation>0</rotation>
              <offset>none</offset>
              <flip_up>y</flip_up>
            </mover_dest>
            <donor_dest>
              <destination>d</destination>
              <num_cards>none</num_cards>
              <shuffle>n</shuffle>
              <rotation>0</rotation>
              <offset>none</offset>
            </donor_dest>
            <next_phase phase="check">-1</next_phase>
          </action>
        </rule>
      </rules>
    </phase>
    <phase name="check">
      <phase_type>auto</phase_type>
      <valid_donors/>
      <rules>
        <rule category="">
          <validation>
            <condition category="done">
              <num_cards>53</num_cards>
            </condition>
          </validation>
          <action>
            <next_phase phase="win"></next_phase>
          </action>
        </rule>
        <rule category="">
          <validation>
            <condition category="action">
            </condition>
          </validation>
          <action>
            <next_phase phase = "play"></next_phase>
          </action>
        </rule>
      </rules>
    </phase>

    <phase name="win">
      <phase_type>manual</phase_type>
      <valid_donors/>
      <rules>
        <rule category="default">

        </rule>
      </rules>
    </phase>
  </phases>
</data>